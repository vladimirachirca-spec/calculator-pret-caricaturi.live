<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calculator preț – caricatură / portret</title>

  <style>
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      margin: 0;
      background: #f6f6f6;
    }
    .wrap {
      max-width: 860px;
      margin: 24px auto;
      padding: 16px;
    }
    .card {
      background: #fff;
      border: 1px solid #e6e6e6;
      border-radius: 14px;
      padding: 16px;
      box-shadow: 0 6px 18px rgba(0,0,0,.06);
    }
    h1 { font-size: 22px; margin: 0 0 6px; }
    .muted { color:#666; margin-bottom:14px; line-height:1.35; }
    .grid {
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    label { font-weight:650; margin-bottom:6px; display:block; }
    select, input[type="number"] {
      width:100%;
      padding:10px 12px;
      border:1px solid #ddd;
      border-radius:12px;
      font-size:16px;
    }
    .row { margin-top:12px; }
    .checks {
      display:flex;
      flex-wrap:wrap;
      gap:10px 18px;
      align-items:center;
    }
    .checks label {
      font-weight:500;
      display:flex;
      gap:8px;
      align-items:center;
      margin:0;
    }
    .pill {
      padding:3px 10px;
      border:1px solid #eee;
      border-radius:999px;
      background:#fafafa;
      font-size:13px;
    }
    .warn {
      display:none;
      background:#fff3cd;
      border:1px solid #ffeeba;
      color:#6b5200;
      padding:10px 12px;
      border-radius:12px;
      margin-top:12px;
    }
    .total {
      font-size:36px;
      font-weight:850;
      margin-top:8px;
    }
    .break {
      margin-top:8px;
      font-size:14px;
      color:#333;
      line-height:1.35;
    }
    @media (max-width:720px){
      .grid { grid-template-columns:1fr; }
    }
  </style>
</head>

<body>
<div class="wrap">
  <div class="card">

    <h1>Calculator preț – caricatură / portret</h1>
    <p class="muted">
      Preț estimativ calculat instant, în funcție de opțiuni.
      Tipul lucrării nu influențează prețul.
    </p>

    <div class="grid">

      <div>
        <label>Alb-negru sau color</label>
        <select id="culoare">
          <option value="bw">Alb / negru</option>
          <option value="color">Color</option>
        </select>
      </div>

      <div>
        <label>Format</label>
        <select id="format">
          <option value="A4">A4 (max 1 persoană)</option>
          <option value="A3">A3 (max 3 persoane)</option>
          <option value="A2">A2 (max 6 persoane)</option>
          <option value="A1">A1 (max 10 persoane)</option>
        </select>
      </div>

      <div>
        <label>Număr persoane</label>
        <input id="pers" type="number" min="1" value="1">
      </div>

      <div id="techRow">
        <label>Tehnică (doar pentru color)</label>
        <select id="tech">
          <option value="digital">Digital (+0)</option>
          <option value="acuarela">Acuarelă (+50)</option>
          <option value="pastel">Pastel (+75)</option>
          <option value="ulei">Ulei pe pânză (+300)</option>
        </select>
      </div>

    </div>

    <div class="row checks">
      <label><input type="checkbox" id="detaliat"> Detaliat (+50% din bază)</label>
      <label><input type="checkbox" id="rama"> Ramă</label>
      <span id="maxpill" class="pill"></span>
    </div>

    <div id="warn" class="warn"></div>

    <div class="row">
      <div class="muted">Total estimativ</div>
      <div id="total" class="total">—</div>
      <div id="breakdown" class="break"></div>
    </div>

  </div>
</div>

<script>
const BASE = { bw:100, color:200 };
const TECH_ADD = { digital:0, acuarela:50, pastel:75, ulei:300 };
const MAX_BY_FORMAT = { A4:1, A3:3, A2:6, A1:10 };
const FRAME_BY_FORMAT = { A4:25, A3:50, A2:100, A1:200 };

const culoare = document.getElementById("culoare");
const format  = document.getElementById("format");
const pers    = document.getElementById("pers");
const tech    = document.getElementById("tech");
const detaliat= document.getElementById("detaliat");
const rama    = document.getElementById("rama");
const techRow = document.getElementById("techRow");
const totalEl = document.getElementById("total");
const breakEl = document.getElementById("breakdown");
const warnEl  = document.getElementById("warn");
const maxpill = document.getElementById("maxpill");

function calc(){
  const col = culoare.value;
  const base = BASE[col];
  const maxP = MAX_BY_FORMAT[format.value];

  pers.max = maxP;
  if (pers.value > maxP) pers.value = maxP;
  if (pers.value < 1) pers.value = 1;

  maxpill.textContent = "Max persoane: " + maxP;

  techRow.style.display = (col === "color") ? "block" : "none";
  const techAdd = (col === "color") ? TECH_ADD[tech.value] : 0;
  const detailAdd = detaliat.checked ? base * 0.5 : 0;

  const first = base + techAdd + detailAdd;
  const extras = (pers.value - 1) * first * 0.75;
  const frame = rama.checked ? FRAME_BY_FORMAT[format.value] : 0;

  const total = Math.round(first + extras + frame);

  totalEl.textContent = total + " lei";

  breakEl.innerHTML =
    "Prima persoană: " + first + " lei<br>" +
    (pers.value > 1 ? "Persoane extra: " + Math.round(extras) + " lei<br>" : "") +
    (rama.checked ? "Ramă: " + frame + " lei<br>" : "");

}

document.querySelectorAll("select,input").forEach(el=>{
  el.addEventListener("change",calc);
  el.addEventListener("input",calc);
});

calc();
</script>
</body>
</html>

